<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Hello, world!</title>
    <style>
        .jumbotron{
            height: 450px;
            background-image: url(https://images.pexels.com/photos/6347888/pexels-photo-6347888.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500);
            background-size: cover;
            background-position-y: -40px;
        }

        .judullist{
            height: 45px;
        }
    </style>
  </head>
  <body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
          <h1 class="display-4">Fluid jumbotron</h1>
          <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
        </div>
      </div>


      <div class="container">
         <div class="row">
            <div class="col-4">
                <div class="judullist bg-dark rounded text-center text-white pt-2">List Items</div>

                <div class="listkeranjang" id="listkeranjang">
                    
                </div>

                  <table width="100%">
                      <tbody>
                          <tr>
                            <td>Discount (5%)</td>
                            <td>Rp. <span id="discount"></span></td>
                          </tr>
                          <tr>
                            <td>PPN (10%)</td>
                            <td>Rp. <span id="pajak"></span></td>
                        </tr>
                        <tr class="bg-dark text-white">
                            <td>Total Bayar (10%)</td>
                            <td>Rp. <span id="totalbayar"></span></td>
                        </tr>
                      </tbody>
                  </table>


                  <button type="button" class="btn btn-primary mt-3 btn-block">Bayar</button>



            </div>
            <div class="col-8" id="listproduk">

               
                    </div>
                  </div>
                  </div>

                  <script>
                      var namabarang = ['Baju Pria', 'Baju Wanita']
                      var hargabarang = [200000, 300000]
                      var gambarbarang = [
                          "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTf8ZIynzje-z6pbDLllSXxzOGIgXf0eD5g6g&usqp=CAU",
                          "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6yD40tuklDFV9KonamXCqMsltA-Y6X1N2pQ&usqp=CAU"

                      ]

                      var listproduk = document.getElementById('listproduk')
                      var listkeranjang = document.getElementById('listkeranjang')

                      var namabarang_keranjang = []
                      var hargabarang_keranjang = []

                      function showlistproduk() {
                          listproduk.innerHTML =''

                          for (let i = 0; i <namabarang.length; i++) {
                              listproduk.innerHTML +='<div class="card float-left mr-3 mb-3" style="width: 12rem;">'+
                             '<img src='+gambarbarang[i]+''+
                             'class="card-img-top" alt="...">'+
                             '<div class="card-body">'+
                             '<h5 class="card-title">'+namabarang[i]+'</h5>'+
                             '<p class="card-text">Rp. '+hargabarang[i]+'</p>'+
                             '<a href="#" class="btn btn-primary" onclick="addlistitem('+i+')">Beli</a>'+
                           '</div>'+
                       '</div>'
                          }

                      }

                      function addlistitem(id) {
                          namabarang_keranjang.push(namabarang[id])
                          hargabarang_keranjang.push(hargabarang[id])

                          showlistkeranjang()
                      }

                      var listkeranjang = document.getElementById('listkeranjang')
                      var tampilandiscount = document.getElementById('discount')
                      var tampilanpajak = document.getElementById('pajak')
                      var tampilantotalbayar = document.getElementById('totalbayar')

                      function showlistkeranjang() {
                          listkeranjang.innerHTML=''

                          var discount = 0
                          var pajak = 0
                          var hargatotal = 0
                          var totalbayar = 0
                          for (let i = 0; i < namabarang_keranjang.length; i++) {
                              listkeranjang.innerHTML += '<div class="card mt-3 mb-3" style="width: 21,5rem;">'+
                               '<div class="card-body">'+
                                '<h5 class="card-title">'+namabarang_keranjang[i]+'</h5>'+
                                '<p class="card-text">Rp. '+hargabarang_keranjang[i]+'</p>'+
                                '<p>Qty : 1</p>'+
                                '<a href="#" class="btn btn-danger float-right" onclick="deleteitem('+i+')">Hapus</a>'+
                              '</div>'+
                            '</div>'

                            hargatotal = hargabarang_keranjang[i]+hargatotal

            
                            if(totalbayar>500000){
                              discount = totalbayar*0.05
                            }else{
                              discount = 0
                            }
                            totalbayar = hargatotal-discount

                            pajak = hargatotal*0.1

                            var totalbelanja = totalbayar - pajak
                            tampilanpajak.innerHTML = pajak
                            tampilandiscount.innerHTML = discount
                            tampilantotalbayar.innerHTML = totalbayar


                          }
                      }
                      


                      function deleteitem(id){
                  namabarang_keranjang.splice(id,1)
                  hargabarang_keranjang.splice(id,1)

                  showlistkeranjang()
                }
                
                      showlistproduk()

                     

                      


                  </script>


            </div>
         </div>
      </div>

  </body>
</html>